<!-- nav.partial.html — SynOSX NAV + Mobile Drawer (Shell / Frozen v1.0.1)
     ✅ MUST be generated from registry/site.nav.json (Single Source of Truth)
     ✅ This file is a SHELL only: no page-specific links, no hardcoded CTA, no group content

     GOVERNANCE NOTE (VERY IMPORTANT):
     - System Navbar is a ROLE, not a tag.
     - Only <nav class="sx-navbar"> owns "fixed topbar" privileges.
     - Drawer / internal navigation must NOT rely on bare <nav> styles.
-->

<nav id="navbar" class="sx-navbar" aria-label="Primary Navigation">
  <div class="nav-content">
    <!-- Brand (filled by build from JSON: brand.name / brand.subtitle / brand.href) -->
    <a class="logo" data-sx="brand" href="index.html" aria-label="SynOSX Home">
      <div class="logo-icon">SX</div>
      <span class="logo-text">
        <b data-sx="brand-name">SynOSX</b>
        <span class="logo-sub" data-sx="nav-sub"></span>
      </span>
    </a>

    <!-- Desktop nav (build injects <li>...</li> based on desktop.links/usecases/tail) -->
    <ul class="nav-links nav-desktop" aria-label="Desktop Navigation" data-sx="desktop-links">
      <!-- injected -->
    </ul>

    <!-- Right actions: Menu fixed, Desktop may show 2 CTAs (secondary + primary) -->
    <div class="nav-actions">
      <button
        id="sx-menu-button"
        class="btn-secondary nav-menu-btn"
        data-sx-entry="desktop"
        type="button"
        aria-label="Open SynOSX Menu"
        aria-controls="sx-mobile-menu"
        aria-expanded="false">
        ☰ Menu
      </button>

      <!-- build injects desktop secondary (optional). Mobile should hide this via CSS -->
      <span data-sx="nav-cta-secondary">
        <!-- injected -->
      </span>

      <!-- build injects primary CTA here (link/button/empty) -->
      <span data-sx="nav-cta-primary">
        <!-- injected -->
      </span>
    </div>
  </div>
</nav>

<!-- Mobile Drawer -->
<div id="sx-mobile-menu" class="sx-drawer" aria-hidden="true">
  <div class="sx-drawer-backdrop" data-close="sx-drawer" aria-hidden="true"></div>

  <aside class="sx-drawer-panel" role="dialog" aria-modal="true" aria-label="Mobile Navigation" tabindex="-1">
    <div class="sx-drawer-top">
      <div class="sx-drawer-brand">
        <div class="logo-icon">SX</div>
        <div class="sx-drawer-title">
          <div class="sx-drawer-name" data-sx="brand-name">SynOSX</div>
          <div class="sx-drawer-sub" data-sx="drawer-sub"></div>
        </div>
      </div>

      <button class="sx-drawer-close" type="button" data-close="sx-drawer" aria-label="Close Menu">✕</button>
    </div>

    <!-- Drawer links: build injects links + divider + group + (optional) usecases fold -->
    <div class="sx-drawer-nav" role="navigation" aria-label="Mobile Links" data-sx="drawer-links">
      <!-- injected -->
    </div>

    <!-- Drawer actions: build injects optional action buttons/links (can be empty) -->
    <div class="sx-drawer-actions" data-sx="drawer-actions">
      <!-- injected -->
    </div>
  </aside>
</div>

<!-- Mobile Orb (System Entry · Mobile Primary) -->
<button
  id="sx-orb"
  class="sx-orb"
  aria-label="Open SynOSX Menu"
  type="button">
  <span class="sx-orb-core" aria-hidden="true"></span>
</button>

<!-- System Entry Registry (Governance Hook)
     - Declares which elements are the legitimate system entries.
     - JS runtime must ONLY bind triggers from this registry.
-->
<div
  hidden
  data-sx-entry-registry
  data-desktop-entry="sx-menu-button"
  data-mobile-entry="sx-orb">
</div>
