<!--
  replay.html — SynOSX Audit Replay Runtime (Frozen v1.0.1)

  用法示例：
  replay.html?trace=rc_brand_15s_v1

  说明：
  - 顶栏（Nav）由 build-includes.mjs 注入
  - 实际导航结构由 registry/site.nav.json 决定
-->

<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SynOSX — Audit Replay Runtime</title>
  <meta name="description" content="SynOSX Audit Replay Runtime：以 trace_id 为入口，回放已被治理链路裁决并审计的行为证据。" />

  <!-- ✅ System Status Meta (6个) -->
  <meta name="sx-runtime" content="REPLAY" />
  <meta name="sx-build-date" content="2026-01-13" />
  <meta name="sx-version" content="v1.0.4-Stable" />
  <meta name="sx-commit" content="ba...227" />
  <meta name="sx-policy" content="AUDIT REPLAY CONSTITUTION" />
  <meta name="sx-statusbar-layout" content="governance" />

  <!-- ✅ Shared CSS (Frozen order) -->
  <link rel="stylesheet" href="assets/css/sx.core.css" />
  <link rel="stylesheet" href="assets/css/sx.layers.css" /> <!-- 新增 -->
  <link rel="stylesheet" href="assets/css/sx.statusbar.css" />
  <link rel="stylesheet" href="assets/css/sx.drawer.css" />
  <link rel="stylesheet" href="assets/css/sx.floatlog.css" />

  <!-- ✅ Page CSS -->
  <link rel="stylesheet" href="assets/css/pages/replay.page.css" />
</head>

<body class="has-statusbar">
  <div class="bg-gradient" aria-hidden="true"></div>

  <!--@include nav-->

 <!-- ✅ FloatLog Panel (Scheme B / single protocol) -->
<div class="sx-floatlog" aria-label="audit console">
  <div class="sx-floatlog__panel">
    <div class="sx-floatlog__handle">
      <span class="sx-floatlog__title">
        <i class="sx-floatlog__dot" aria-hidden="true"></i>
        <span class="sx-floatlog__titleText">AUDIT ENGINE</span>
      </span>
      <div class="sx-floatlog__actions">
        <button class="sx-floatlog__btn" type="button" data-action="collapse">—</button>
        <button class="sx-floatlog__btn" type="button" data-action="close">×</button>
      </div>
    </div>
    <div class="sx-floatlog__body"></div>
  </div>
</div>


  <main class="replay-main">
    <header class="container">
      <div
  class="kicker"
  id="replay-context-pill"
  role="button"
  tabindex="0"
  title="Open Audit Console"
>
  <span class="dot"></span>
  回放环境 · 以 trace_id 进入 · URL 即证据入口
</div>

      <div class="title">治理行为回放（Audit Replay）</div>
      <div class="subtitle">
        这是 SynOSX 的「回放运行时」。你不是在“看视频”，你是在回放一次已经被 <b>Intent → Firewall → Audit</b> 裁决并记录的行为证据。
      </div>
    </header>

    <section class="container">
      <div class="grid">
        <section class="card" aria-label="trace meta">
          <h3>
            证据元数据
            <span class="status-pack" aria-label="verdict status">
              <span class="status-led unverified" id="led-verdict" title="VERDICT LED" aria-hidden="true"></span>
              <span class="chip" id="chip-status">UNRESOLVED</span>
            </span>
          </h3>

          <div class="meta" id="meta-block">
            <span class="muted">Waiting for trace…</span>
          </div>

          <div class="row">
            <button class="btn sb-copy" id="btn-copy-trace" type="button" title="Copy trace id">
              <span class="sb-key">TRACE</span>
              <span class="sb-val" id="sb-trace">—</span>
              <span class="sb-val" style="opacity:.7;">⧉</span>
            </button>

            <button class="btn sb-copy" id="btn-copy-hash" type="button" title="Copy evidence hash">
              <span class="sb-key">HASH</span>
              <span class="sb-val" id="sb-hash">—</span>
              <span class="sb-val" style="opacity:.7;">⧉</span>
            </button>
          </div>

          <div class="semantic-note">
            <span class="chip">REPLAY CONTRACT</span>
            本页面通过 URL 参数 <b>?trace=...</b> 进入回放环境。<br/>
            入口只指向“证据”，不创造“事实”。<br/>
            若 trace 不存在或未被审核，系统将裁决为 <b>UNVERIFIED</b> 并拒绝播放。
          </div>
        </section>

        <section class="card" aria-label="replay video">
          <h3>
            回放载体
            <span class="chip" id="chip-media">MEDIA: NONE</span>
          </h3>

          <div class="video-frame">
            <video id="replay-video" controls preload="metadata" playsinline></video>
          </div>

          <div class="semantic-note" id="media-note">
            <span class="chip">NOTE</span>
            载体尚未加载。请确认 URL 里包含有效 trace，例如：<br/>
            <span class="mono-hint">replay.html?trace=rc_brand_15s_v1</span>
          </div>
        </section>
      </div>
    </section>
  </main>

  <!-- ✅ Statusbar -->
  <div class="statusbar" role="contentinfo" aria-label="System Status Bar">
    <div class="statusbar-inner">
      <div class="sb-left">
        <span class="sb-pill">
          <span class="sb-key">RUNTIME</span>
          <span class="sb-val" id="sb-runtime">REPLAY</span>
        </span>

        <span class="sb-pill" title="TRACE">
          <span class="sb-key">TRACE</span>
          <span class="sb-val" id="sb-trace2">—</span>
        </span>

        <span class="sb-pill" title="VERDICT">
          <span class="engine-dot unverified" id="sb-dot" aria-hidden="true"></span>
          <span class="sb-key">VERDICT</span>
          <span class="sb-val" id="sb-verdict">UNRESOLVED</span>
        </span>
      </div>

      <div class="sb-right">
        <span class="sb-pill" title="POLICY">
          <span class="sb-key">POLICY</span>
          <span class="sb-val" id="sb-policy">AUDIT REPLAY CONSTITUTION</span>
        </span>
      </div>
    </div>
  </div>

  <!-- ✅ Shared JS (Frozen order) -->
  <script src="assets/js/sx.core.js"></script>
  <script src="assets/js/sx.drawer.js"></script>
  <script src="assets/js/sx.floatlog.js"></script>
  <script src="assets/js/sx.statusbar.js"></script>

  <!-- ✅ Page runtime -->
  <script src="assets/js/runtime/replay.runtime.js"></script>
</body>
</html>
