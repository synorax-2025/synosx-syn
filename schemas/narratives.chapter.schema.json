{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://synosx.dev/schemas/narratives.chapter.entry.schema.json",
  "title": "Narratives Chapter Registry Entry",
  "type": "object",
  "additionalProperties": false,

  "required": [
    "id",
    "slug",
    "title",
    "subtitle",
    "derived_from",
    "risk_category",
    "status",
    "order",
    "case_ref"
  ],

  "properties": {
    "id": {
      "type": "string",
      "pattern": "^case-\\d{2}$"
    },

    "slug": { "type": "string", "minLength": 1 },

    "title": { "type": "string", "minLength": 1 },

    "subtitle": { "type": "string", "minLength": 1 },

    "derived_from": { "type": "string", "minLength": 1 },

    "risk_category": {
      "type": "array",
      "minItems": 1,
      "items": { "type": "string", "minLength": 1 }
    },

    "status": {
      "type": "string",
      "enum": ["draft", "published", "deprecated"]
    },

    "order": { "type": "integer", "minimum": 0 },

    "case_ref": {
      "type": "string",
      "pattern": "^assets/data/narratives/cases/case-\\d{2}\\.json$"
    }
  }
}
