{
  "$id": "https://synosx.dev/schemas/narratives.chapter.schema.json",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Narratives Chapter Entry",
  "type": "object",
  "additionalProperties": false,
  "required": ["id", "title", "subtitle", "non_normative", "case_ref", "tags", "published_at"],
  "properties": {
    "id": {
      "type": "string",
      "pattern": "^case-\\d{2}$",
      "description": "case-01, case-02..."
    },
    "title": { "type": "string", "minLength": 1 },
    "subtitle": { "type": "string", "minLength": 1 },
    "non_normative": {
      "type": "boolean",
      "const": true,
      "description": "Must be true: narratives are illustrative, not normative."
    },
    "case_ref": {
      "type": "string",
      "minLength": 1,
      "description": "Relative path to case json, e.g. registry/narratives/case-01.json"
    },
    "tags": {
      "type": "array",
      "minItems": 1,
      "items": { "type": "string", "minLength": 1 }
    },
    "published_at": { "type": "string", "minLength": 8 },
    "case_link": {
      "type": "string",
      "minLength": 1,
      "description": "Link to template page, e.g. pages/narrative-case.html?id=case-01"
    }
  }
}
