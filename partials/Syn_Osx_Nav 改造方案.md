# SynOSX Nav ç»Ÿä¸€æ”¹é€ æ–¹æ¡ˆï¼ˆæ ‡å‡†ç‰ˆï¼‰

> **ç›®æ ‡**ï¼š
>
> * é¿å… manifest / replay / cases ç­‰é¡µé¢å„è‡ªæ‰‹å†™ Nav
> * å®ç° **å•ä¸€çœŸæºï¼ˆSingle Source of Truthï¼‰**
> * ä¿è¯æ¡Œé¢ç«¯ / ç§»åŠ¨ç«¯è¡Œä¸ºä¸€è‡´ã€å¯æ²»ç†ã€å¯æ¼”è¿›

---

## ä¸€ã€æ€»ä½“åŸåˆ™ï¼ˆå¿…é¡»éµå®ˆï¼‰

### 1ï¸âƒ£ Nav æ°¸è¿œä¸åœ¨é¡µé¢é‡Œæ‰‹å†™

* âŒ ç¦æ­¢åœ¨ä»»ä½• `*.html` é¡µé¢ä¸­ç›´æ¥å†™ `<nav>...</nav>`
* âœ… æ‰€æœ‰é¡µé¢ **åªå†™ä¸€ä¸ª include token**ï¼š

```html
<!--@include nav-->
```

> é¡µé¢èŒè´£åªå‰©ä¸¤ä»¶äº‹ï¼š
>
> * é¡µé¢å†…å®¹
> * é¡µé¢èº«ä»½ï¼ˆmanifest / replay / cases / indexï¼‰

---

### 2ï¸âƒ£ Nav çš„å”¯ä¸€çœŸæºæ˜¯ `registry/site.nav.json`

* æ‰€æœ‰é¡¶æ  / Drawer çš„ç»“æ„ã€æŒ‰é’®ã€é“¾æ¥
* **å…¨éƒ¨ç”± JSON æè¿°**
* é¡µé¢åªé€šè¿‡ã€Œé¡µé¢åã€é€‰æ‹©é…ç½®

è·¯å¾„å›ºå®šï¼š

```
registry/site.nav.json
```

---

### 3ï¸âƒ£ build é˜¶æ®µç»Ÿä¸€æ³¨å…¥ï¼ˆä¸å¯è¿è¡Œæ—¶æ‹¼æ¥ï¼‰

* ä½¿ç”¨ `tools/build-includes.mjs`
* åœ¨ **æ„å»ºé˜¶æ®µ** æŠŠ Nav æ³¨å…¥åˆ° HTML
* `dist/*.html` ä¸­çœ‹åˆ°çš„éƒ½æ˜¯â€œå·²å®Œæˆ HTMLâ€

ä¼˜ç‚¹ï¼š

* GitHub Pages / CDN å‹å¥½
* æ—  JS ä¾èµ–å³å¯å±•ç¤º Nav
* ä¸å­˜åœ¨é¦–å±é—ªçƒæˆ– race condition

---

## äºŒã€é¡µé¢å†™æ³•è§„èŒƒï¼ˆHTMLï¼‰

### âœ… æ­£ç¡®æ¨¡æ¿ï¼ˆæ‰€æœ‰é¡µé¢ç»Ÿä¸€ï¼‰

```html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
  ...
</head>
<body>
  <div class="bg-gradient"></div>

  <!--@include nav-->

  <!-- Page Content -->
</body>
</html>
```

### âŒ ç»å¯¹ç¦æ­¢çš„å†™æ³•

```html
<!--
  replay.html
  <!--@include nav-->
-->
```

> âš ï¸ include token **ä¸èƒ½å†™åœ¨ HTML æ³¨é‡Šå—é‡Œ**ï¼Œå¦åˆ™ build å·¥å…·æ— æ³•è¯†åˆ«ã€‚

---

## ä¸‰ã€é¡µé¢èº«ä»½åˆ¤å®šè§„åˆ™ï¼ˆå…³é”®ï¼‰

`build-includes.mjs` æ ¹æ® **æ–‡ä»¶å** åˆ¤å®šé¡µé¢èº«ä»½ï¼š

| æ–‡ä»¶å           | é¡µé¢ key   |
| ------------- | -------- |
| index.html    | index    |
| manifest.html | manifest |
| cases.html    | cases    |
| replay.html   | replay   |

è¯¥ key ç”¨äºåœ¨ `site.nav.json` ä¸­é€‰æ‹©é…ç½®ï¼š

```json
"pages": {
  "manifest": { ... },
  "replay": { ... }
}
```

---

## å››ã€Nav è¡Œä¸ºè®¾è®¡çº¦å®šï¼ˆå·²ç»å®šæ­»ï¼‰

### ğŸ–¥ Desktopï¼ˆçª—å£ â‰¥ 980pxï¼‰

* æ˜¾ç¤º `desktop.links`
* å¦‚æœå¼€å¯ï¼šæ˜¾ç¤º `desktop.usecases`
* æ˜¾ç¤º `actions.secondary` / `actions.cta`
* **ä¸æ˜¾ç¤º Menu æŒ‰é’®**

### ğŸ“± Mobileï¼ˆçª—å£ < 980pxï¼‰

* é¡¶æ ï¼š

  * Logo
  * â˜° Menu
  * CTAï¼ˆå¦‚æœ‰ï¼‰
* æ‰€æœ‰é“¾æ¥ **è¿›å…¥ Drawer**ï¼š

  * åŸ desktop links
  * chaptersï¼ˆmanifest ä¸“å±ï¼‰
  * usecasesï¼ˆå¦‚æœå¯ç”¨ï¼‰

---

## äº”ã€Manifest / Replay çš„å·®å¼‚å¦‚ä½•å®ç°

### Manifest

* desktopï¼š

  * ç›®å½• + Ch.1 ~ Ch.10
  * ä¸æ˜¾ç¤º Use Cases
* mobileï¼š

  * Menu ä¸­åŒ…å«ç›®å½• + Ch
  * CTA = å¼€å§‹é˜…è¯»

### Replay

* desktopï¼š

  * ä¸æ˜¾ç¤º links
  * åªæ˜¾ç¤ºï¼š

    * Menu
    * â† è¿”å›åˆ¤ä¾‹
    * â–¶ å›æ”¾è¯æ®ï¼ˆ`id=btn-run-replay`ï¼‰
* mobileï¼š

  * Drawer ä»…ä¿ç•™æœ€å°ç»“æ„

ğŸ‘‰ **å·®å¼‚åªå­˜åœ¨äº JSONï¼Œä¸å­˜åœ¨äº HTML**

---

## å…­ã€æ–‡ä»¶èŒè´£åˆ’åˆ†ï¼ˆå®ªæ³•çº§ï¼‰

| æ–‡ä»¶                       | èŒè´£                 |
| ------------------------ | ------------------ |
| registry/site.nav.json   | Nav ç»“æ„ã€è¯­ä¹‰ã€é¡µé¢å·®å¼‚     |
| tools/build-includes.mjs | æ³¨å…¥ Navï¼ˆæ„å»ºæœŸï¼‰        |
| sx.drawer.css            | Drawer è§†è§‰ + å“åº”å¼    |
| sx.drawer.js             | Drawer è¡Œä¸º          |
| å„ page.html              | å†…å®¹ + include token |

---

## ä¸ƒã€ä½ ç°åœ¨çš„çŠ¶æ€è¯„ä¼°

* âœ… æ¶æ„é€‰æ‹©ï¼š**æ­£ç¡®ï¼ˆè€Œä¸”é«˜çº§ï¼‰**
* âœ… JSON ç»“æ„è®¾è®¡ï¼šå¯æ²»ç†ã€å¯æ¼”è¿›
* âœ… Manifest å·²éªŒè¯æˆåŠŸ
* âŒ å”¯ä¸€è¸©å‘ç‚¹ï¼šHTML æ³¨é‡ŠåŒ…è£¹ includeï¼ˆå·²è§£å†³ï¼‰

ä½ ç°åœ¨è¿™å¥— Nav æ–¹æ¡ˆï¼š

> **å·²ç»è¾¾åˆ°â€œå¯ä»¥é•¿æœŸç»´æŠ¤â€çš„çº§åˆ«**ã€‚

---

## å…«ã€ä¸€å¥è¯æ€»ç»“

> **Nav ä¸æ˜¯é¡µé¢ç»„ä»¶ï¼Œè€Œæ˜¯ç«™ç‚¹åˆ¶åº¦ã€‚**
> é¡µé¢åªå£°æ˜èº«ä»½ï¼Œåˆ¶åº¦å†³å®šç»“æ„ã€‚

â€”â€” SynOSX Governance UI
â‘  é¡µé¢é‡Œæ°¸è¿œåªæœ‰è¿™ä¸€å¥ï¼ˆä¸”ä¸èƒ½åŒ…åœ¨æ³¨é‡Šé‡Œï¼‰
<!--@include nav-->
â‘¡ Nav çš„å”¯ä¸€çœŸæºåªå‰©ä¸€ä¸ª
registry/site.nav.json
â‘¢ manifest / replay çš„å·®å¼‚ æ°¸è¿œåªèƒ½å†™åœ¨ JSON
ä¸æ˜¯ï¼š
HTML
CSS
JS ä¸´æ—¶åˆ¤æ–­
è€Œæ˜¯ï¼š
pages.manifest
pages.replay