:root{
  --dock-width-expanded: 340px;
  --dock-width-collapsed: 42px;
  --dock-height-expanded: 220px;
  --dock-radius: 22px;
  --dock-shadow: var(--shadow-lg);
}

/* 容器：floating + docked 共用 */
.dock-panel{
  position: fixed;
  z-index: 40;

  /* 初始放大致居中（不用 transform） */
  top: calc(50% - var(--dock-height-expanded) / 2);
  left: calc(50% - var(--dock-width-expanded) / 2);
  transform: none;

  display: flex;
  align-items: stretch;

  width: var(--dock-width-expanded);
  height: var(--dock-height-expanded);
  background: radial-gradient(circle at top left, #252b3d, #10121a);
  border-radius: var(--dock-radius);
  box-shadow: var(--dock-shadow);
  border: 1px solid rgba(255,255,255,0.08);
  color: var(--text);
  overflow: hidden;

  transition:
    width var(--dur) var(--ease),
    height var(--dur) var(--ease),
    left var(--dur) var(--ease),
    right var(--dur) var(--ease),
    top var(--dur) var(--ease),
    transform 160ms var(--ease),
    opacity 160ms var(--ease);
}

/* 浮动模式：自由拖动 */
.dock-panel--floating{
  border-radius: var(--dock-radius);
}

/* 拖拽时：稍微变化透明度，关闭过渡，保持跟手 */
.dock-panel.is-dragging{
  opacity: .96;
  transform: none;
  transition: none !important;
}

/* 吸附后：缩成门把手胶囊 */
.dock-panel--collapsed{
  width: var(--dock-width-collapsed);
  height: 110px;
  border-radius: 999px;
}

/* 展开：完整小窗 */
.dock-panel--expanded{
  width: var(--dock-width-expanded);
  height: var(--dock-height-expanded);
}

/* 左 / 右 dock 状态（被“吸进去”只露一条边） */
.dock-panel--left{
  left: -4px;
  right: auto;
  border-radius: 0 var(--dock-radius) var(--dock-radius) 0;
}

.dock-panel--right{
  right: -4px;
  left: auto;
  border-radius: var(--dock-radius) 0 0 var(--dock-radius);
}

/* 关闭：整块隐藏 */
.dock-panel--hidden{
  opacity: 0;
  pointer-events: none;
}

/* 门把手：默认不占宽度（floating 时左右边框对称） */
.dock-panel__handle{
  flex: 0 0 0;
  width: 0;

  display: flex;
  align-items: center;
  justify-content: center;
  border: none;
  padding: 0;
  cursor: pointer;
  background: transparent;

  opacity: 0;
  pointer-events: none;
  transition: opacity var(--dur-fast) var(--ease);
}

/* 只有 docked 时才出现门把手并占据 42px 宽度 */
.dock-panel--left .dock-panel__handle,
.dock-panel--right .dock-panel__handle{
  flex: 0 0 var(--dock-width-collapsed);
  width: var(--dock-width-collapsed);

  opacity: 1;
  pointer-events: auto;
}

/* 箭头：用 border 画 “> / <” */
.dock-panel__chevron{
  display:block;
  width:10px;
  height:18px;
  border-style:solid;
  border-width:0 3px 3px 0;
  border-color:#e2e6f1;
  border-radius:8px;
  transform-origin:center;
  transition:transform var(--dur-fast) var(--ease), opacity var(--dur-fast) var(--ease);
}

/* 右边 dock：箭头向左 “<” */
.dock-panel--right .dock-panel__chevron{
  transform: rotate(135deg);
}

/* 左边 dock：箭头向右 “>” */
.dock-panel--left .dock-panel__chevron{
  transform: rotate(-45deg);
}

/* 展开时略微归位一点（视觉反馈） */
.dock-panel--expanded .dock-panel__chevron{
  transform: translateX(0) rotate(0deg);
}

/* 内容：只在展开状态可交互 */
.dock-panel__content{
  flex:1 1 auto;
  padding:12px 16px 12px 16px;
  display:flex;
  flex-direction:column;
  gap:8px;
  opacity:1;
  transition:opacity 160ms var(--ease);
}

.dock-panel--collapsed .dock-panel__content{
  opacity:0;
  pointer-events:none;
}

/* 顶部 header：细顶栏 + 一条分割线 */
.dock-panel__header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  font-size:11px;
  color:var(--text-muted);

  padding-bottom: 4px;
  margin-bottom: 6px;
  border-bottom: 1px solid rgba(255,255,255,0.06);
}

.dock-panel__title{
  display:flex;
  flex-direction:column;
  gap:1px;
}

.dock-panel__label{
  font-weight:800;
  text-transform:uppercase;
  letter-spacing:0.12em;
}

.dock-panel__status{
  font-family:var(--mono);
  font-size:10px;
  opacity:.86;
}

/* 右上角 - / × */
.dock-panel__window-actions{
  display:flex;
  align-items:center;
  gap:4px;
}

.dock-panel__icon-btn{
  width:18px;
  height:18px;
  border-radius:50%;
  border:none;
  cursor:pointer;
  display:flex;
  align-items:center;
  justify-content:center;
  background:rgba(255,255,255,0.06);
  color:#e5ebff;
  padding:0;
  transition:background var(--dur-fast) var(--ease), transform var(--dur-fast) var(--ease);
}

/* hover 手感 */
.dock-panel__icon-btn:hover{
  background:rgba(255,255,255,0.16);
  transform:translateY(-1px);
}

/* 最小化：用一条横线 */
.dock-panel__icon-btn--minimize{
  position: relative;
  color: transparent; /* 不渲染文字 */
}

.dock-panel__icon-btn--minimize::before{
  content: "";
  position:absolute;
  width: 8px;
  height: 2px;
  border-radius: 999px;
  background: #e5ebff;
}

/* 关闭：红色圆点感 */
.dock-panel__icon-btn--close{
  background:rgba(239, 68, 68, 0.18);
}
.dock-panel__icon-btn--close:hover{
  background:rgba(239, 68, 68, 0.32);
}

/* 主体内容区域 */
.dock-panel__body{
  margin-top:8px;
  display:flex;
  flex-direction:column;
  gap:8px;
}

/* 模拟视频区域：之后你换成真正 <video> 即可 */
.dock-panel__mock-video{
  width:100%;
  height:120px;
  border-radius:16px;
  background:rgba(255,255,255,0.06);
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:12px;
  color:#9fc3ff;
  letter-spacing:0.12em;
  text-transform:uppercase;
}

.dock-panel__hint{
  font-size:12px;
  color:var(--text-muted);
}

/* 小屏：高度略缩 */
@media (max-width: 640px){
  :root{
    --dock-height-expanded:200px;
  }
}
